[
    {
        "kind": "Deployment",
        "metadata": {
            "labels": {
                "app.kubernetes.io/component": "nginx",
                "app.kubernetes.io/instance": "nginx",
                "app.kubernetes.io/name": "nginx"
            },
            "name": "nginx"
        },
        "spec": {
            "replicas": 3,
            "selector": {
                "matchLabels": {
                    "app.kubernetes.io/instance": "nginx",
                    "app.kubernetes.io/name": "nginx",
                    "app.kubernetes.io/component": "nginx"
                }
            },
            "template": {
                "metadata": {
                    "labels": {
                        "app.kubernetes.io/name": "nginx",
                        "app.kubernetes.io/component": "nginx",
                        "app.kubernetes.io/instance": "nginx"
                    }
                },
                "spec": {
                    "containers": [
                        {
                            "livenessProbe": {
                                "httpGet": {
                                    "path": "/",
                                    "port": "http"
                                }
                            },
                            "name": "nginx",
                            "ports": [
                                {
                                    "containerPort": 80,
                                    "name": "http",
                                    "protocol": "TCP"
                                }
                            ],
                            "readinessProbe": {
                                "httpGet": {
                                    "port": "http",
                                    "path": "/"
                                }
                            },
                            "resources": {
                                "limits": {
                                    "cpu": "100m",
                                    "memory": "100Mi"
                                },
                                "requests": {
                                    "cpu": "100m",
                                    "memory": "100Mi"
                                }
                            },
                            "image": "nginx:latest",
                            "imagePullPolicy": "IfNotPresent"
                        }
                    ]
                }
            }
        },
        "apiVersion": "apps/v1"
    },
    {
        "kind": "Service",
        "metadata": {
            "labels": {
                "app.kubernetes.io/instance": "nginx",
                "app.kubernetes.io/name": "nginx",
                "app.kubernetes.io/component": "nginx"
            },
            "name": "nginx"
        },
        "spec": {
            "ports": [
                {
                    "protocol": "TCP",
                    "targetPort": 80,
                    "name": "http",
                    "port": 80
                }
            ],
            "selector": {
                "app.kubernetes.io/name": "nginx",
                "app.kubernetes.io/component": "nginx",
                "app.kubernetes.io/instance": "nginx"
            },
            "type": "ClusterIP"
        },
        "apiVersion": "v1"
    }
]
